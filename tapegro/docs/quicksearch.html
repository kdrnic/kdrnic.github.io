<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"js_funcs.js.html":{"id":"js_funcs.js.html","title":"Source: js_funcs.js","body":" Tapegro Global KeyReadKeyReadKeyASCIIJoystickCoutQuitArcCircleCircleFillClearToColorEllipseEllipseFillFloodFillHLineLinePutPixelRectRectFillTriangleVLineGetPixelPutPixelBatchCreateBitmapLoadBitmapSaveBitmapDrawBitmapDrawTransformBitmapLoadPaletteLastBitmapPaletteSetPaletteReadFileReadTextFileGetConfigSetConfigTextOutSetTextAllignSetTextBgColorLoadFontSetFontBlitStretchBlitMaskedBlitCreateSpriteSheetDrawSpriteDrawTransformSpriteDrawSpriteBatchIntToFixFloatToFixFixToIntFixToFloatLoadSampleSaveSampleCreateSamplePlaySampleStopSampleAdjustSampleGetSampleDataSetSampleDataSetSampleParamsGetSampleParamsLoadMIDIGetMIDILengthPauseMIDIResumeMIDIStopMIDISeekMIDIPlayMIDIPlayLoopedMIDISetMIDILoopGetMIDIPosGetMIDITimeMIDIOutDrawTileLayerSetColorMapCreateLightTableCreateTransTableCreateColorTable Source: js_funcs.js /** * Direct keyboard input through Allegro's key. * Only recommended to let the user pick keyboard controls: use &quot;buttons[player]&quot; and &quot;dpad[player]&quot; for game input. * @param {Integer} scancode * @return {Boolean} Whether the key is pressed (value of key[scancode]) */ function Key(scancode){} //js_funcs.c:36 /** * Direct keyboard input through Allegro's keypressed and readkey. * Contrary to readkey, doesn't wait for a keypress, always returning immediately. * Only recommended to let the user pick keyboard controls: use &quot;buttons[player]&quot; and &quot;dpad[player]&quot; for game input. * @return {Integer} 0 if no key is pressed, scancode otherwise */ function ReadKey(){} //js_funcs.c:45 /** * Direct keyboard input through Allegro's keypressed and readkey. * Contrary to readkey, doesn't wait for a keypress, always returning immediately. * @return {Integer} -1 if no key is pressed, ASCII code otherwise (affected normally by shift, ctrl, capslock etc) */ function ReadKeyASCII(){} //js_funcs.c:53 /** * Direct joystick input (through Allegro's &quot;joy&quot;). * Only recommended to let the user pick joystick controls: use &quot;buttons[player]&quot; and &quot;dpad[player]&quot; for game input. * @param {Integer} id - Joystick id, from 0 to a max of 16 * @return {Object} A Javascript object tree equivalent to Allegro's JOYSTICK_INFO */ function Joystick(id){} //js_funcs.c:62 /** * Similar to console.log, a text output function for debugging. * Contrary to usual console.log behaviour, file, line and time are not printed. * This is a variadic function taking any number of arguments. */ function Cout(){} //js_funcs.c:139 /** * Will close the program normally, after completing the frame. Execution does continue after the call. */ function Quit(){} //js_funcs.c:169 /** * Allegro's arc. * Draws a circular arc with centre x, y and radius r, in an anticlockwise direction starting from the angle a1 and ending when it reaches a2. * These values are specified with 256 equal to a full circle, 64 a right angle, etc. Zero is to the right of the centre point, and larger values rotate anticlockwise from there. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Fixed} ang1 * @param {Fixed} ang2 * @param {Integer} r */ function Arc(bitmap, x, y, ang1, ang2, r, color){} //js_funcs.c:222 /** * Allegro's circle. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Integer} radius * @param {Integer} color */ function Circle(bitmap, x, y, radius, color){} //js_funcs.c:233 /** * Allegro's circlefill. Like {@link Circle}, but with the insides filled in. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Integer} radius * @param {Integer} color */ function CircleFill(bitmap, x, y, radius, color){} //js_funcs.c:244 /** * Allegro's clear_to_color. Fills the passed bitmap with the specified colour. * @param {Bitmap} bitmap * @param {Integer} colour */ function ClearToColor(bitmap, colour){} //js_funcs.c:252 /** * Allegro's ellipse. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Integer} radiusX * @param {Integer} radiusY * @param {Integer} color */ function Ellipse(bitmap, x, y, radiusX, radiusY, color){} //js_funcs.c:264 /** * Allegro's circlefill. Like {@link Ellipse}, but with the insides filled in. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Integer} radiusX * @param {Integer} radiusY * @param {Integer} color */ function EllipseFill(bitmap, x, y, radiusX, radiusY, color){} //js_funcs.c:276 /** * Allegro's floodfill. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Integer} colour */ function FloodFill(bitmap, x, y, colour){} //js_funcs.c:286 /** * Allegro's hline. * @param {Bitmap} bitmap * @param {Integer} x1 * @param {Integer} y * @param {Integer} x2 * @param {Integer} colour */ function HLine(bitmap, x1, y, x2, colour){} //js_funcs.c:297 /** * Allegro's line. * @param {Bitmap} bitmap * @param {Integer} x1 * @param {Integer} y1 * @param {Integer} x2 * @param {Integer} y2 * @param {Integer} colour */ function Line(bitmap, x1, y1, x2, y2, colour){} //js_funcs.c:309 /** * Allegro's putpixel. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @param {Integer} colour */ function PutPixel(bitmap, x, y, colour){} //js_funcs.c:319 /** * Allegro's rect. * @param {Bitmap} bitmap * @param {Integer} x1 * @param {Integer} y1 * @param {Integer} x2 * @param {Integer} y2 * @param {Integer} colour */ function Rect(bitmap, x1, y1, x2, y2, colour){} //js_funcs.c:331 /** * Allegro's rectfill. Like {@link Rect}, but with the insides filled in. * @param {Bitmap} bitmap * @param {Integer} x1 * @param {Integer} y1 * @param {Integer} x2 * @param {Integer} y2 * @param {Integer} colour */ function RectFill(bitmap, x1, y1, x2, y2, colour){} //js_funcs.c:343 /** * Allegro's triangle. Draws a filled triangle (unlike what you'd expect from other primitives, there is no TriangleFill). * @param {Bitmap} bitmap * @param {Integer} x1 * @param {Integer} y1 * @param {Integer} x2 * @param {Integer} y2 * @param {Integer} x3 * @param {Integer} y3 * @param {Integer} colour */ function Triangle(bitmap, x1, y1, x2, y2, x3, y3, colour){} //js_funcs.c:357 /** * Allegro's vline. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y1 * @param {Integer} y2 * @param {Integer} colour */ function VLine(bitmap, x, y1, y2, colour){} //js_funcs.c:368 /** * Allegro's getpixel. * @param {Bitmap} bitmap * @param {Integer} x * @param {Integer} y * @return {Integer} Colour value */ function GetPixel(bitmap, x, y){} //js_funcs.c:378 /** * Puts a batch of pixels at once into the passed bitmap. * There is an option to use RLE, in which case, runs of colours will be written filling horizontal lines, with a single starting position for each run of colour values. Otherwise, there is a position and colour triplet for each pixel. * @param {Bitmap} bitmap * @param {Boolean} rle - Whether RLE is used * @param {Int32Array} buf - A typed array, elements are in a [x, y, n, c1, c2, c3, ... , cn, x, y, n, c1, c2, ...] format if RLE is used or [x1, y1, c1, x2, y2, c2, x3, y3, c3, ...] if not */ function PutPixelBatch(bitmap, rle, buf){} //js_funcs.c:404 /** * Creates a bitmap object through Allegro's create_bitmap. * @param {Integer} width * @param {Integer} height * @return {Bitmap} */ function CreateBitmap(w,h){} //js_funcs.c:465 /** * Loads a bitmap through Allegro's load_bitmap. * The palette generated by Allegro together with loading the bitmap is discarded. * Returns null on failures such as file not found. * @param {String} filename * @return {Bitmap} */ function LoadBitmap(filename){} //js_funcs.c:506 /** * Saves a bitmap through Allegro's save_bitmap. * If the program is running on 8bit colour depth, the palette used is the currently set global palette. * @param {String} filename * @param {Bitmap} bitmap */ function SaveBitmap(filename, bitmap){} //js_funcs.c:523 /** * Allegro's draw_sprite. Draws the whole bitmap at the specified position. * Note that DrawSprite et al. is of different use. * @param {Bitmap} bmp - Bitmap drawed on * @param {Bitmap} spr - Bitmap drawed * @param {Integer} X * @param {Integer} Y */ function DrawBitmap(bmp, spr, x, y){} //js_funcs.c:534 /** * Allegro's rotate_scaled_sprite et al. Draws the whole bitmap at the specified position. * Rotation, scaling and flipping are optional transforms. * Note that DrawTransformSprite is of different use. * @param {Bitmap} bitmap - Bitmap drawed on * @param {Bitmap} spr - Bitmap drawed * @param {Integer} transforms - Binary flags for transforms used (SPRITE_FLIP, SPRITE_ROTATE, SPRITE_SCALE) * @param {Fixed=} angle - 256.0 is a full rotation * @param {Fixed=} scale - 2.0 is double the size * @param {Integer=} flip - Binary flags (FLIP_V, FLIP_H) */ function DrawTransformBitmap(bmp, spr, transforms, x, y, angle, scale, flip){} //js_funcs.c:558 /** * Allegro's PALETTE. Just a plain DukTape buffer. Note that while we'd expect 256 3 byte groups for RGB, each entry has a 4th padding byte, so this is actually 1024 bytes long. * @typedef {Buffer} Palette */ /** * Loads a palette from an image file using Allegro's load_bitmap. * Returns null on failures such as file not found. * @param {String} filename * @return {Palette} */ function LoadPalette(filename){} //js_funcs.c:606 /** * Returns the palette from the last bitmap loaded. * @return {Palette} */ function LastBitmapPalette(){} //js_funcs.c:635 /** * Sets the current screen palette using Allegro's set_palette. For 8-bit colour modes only. * @param {Palette} pal */ function SetPalette(pal){} //js_funcs.c:648 /** * Reads a binary file and returns its contents. * Returns null on any failures. * @param {String} filename * @return {Buffer} Plain DukTape buffer containing the file's contents. */ function ReadFile(filename){} //js_funcs.c:672 /** * Reads a text file and returns its contents. * Returns null on any failures. * @param {String} filename * @return {String} String containing the file's contents. */ function ReadTextFile(filename){} //js_funcs.c:698 /** * Reloads sections of the main config file, to update parameters such as controller configuration. * Supports a maximum of 64 sections. * @param {Array} Array of strings, each a config file section such as &quot;controls&quot; */ /** * Get configuration values using Allegro's get_config_float, get_config_int and get_config_string. * @param {Object} configs - Will be modified to contain the values read. Example: * @param {Number} [configs.a_value=5] - Reads a floating point value from the root of the config file, with default value 5.0 * @param {Object} configs.a_section - A [section] in the config file * @param {String} [configs.a_section.another_value=&quot;Test&quot;] - Reads a string value from a section called &quot;a_section&quot;, with default value &quot;Test&quot; */ function GetConfig(configs){} //js_funcs.c:841 /** * Set configuration values using Allegro's set_config_float, set_config_int and set_config_string. Same deal as {@link GetConfig}. * @param {Object} configs - Will be written to config file. Example: * @param {Number} [configs.a_value=5] - Writes &quot;a_value = 5.0&quot; (in the root of the config file i.e. the top with no section above) * @param {Object} configs.a_section - Writes [a_section] in the config file * @param {String} [configs.a_section.anoter_value=&quot;Test&quot;] - Writes &quot;another_value = 'Test'&quot; */ function SetConfig(configs){} //js_funcs.c:856 /** * Allegro's textout. * Unlike the actual textout, the font used is implicit through {@link SetFont}. Use {@link SetTextBgColor} to select the background color used with this function. * @param {Bitmap} bmp - Bitmap written on * @param {String} text - Text * @param {Integer} x - X * @param {Integer} y - Y * @param {Integer} fg - Text colour, or if -1 and a colour font is in use, text is drawn with colours from the original font image for multicoloured text */ function TextOut(bmp, text, x, y, fg){} //js_funcs.c:883 /** * Selects between left-alligned, right-alligned and centred text (Allegro's textout, textout_right and textout_centre). * @param {Integer} allign - 0 for left, 1 for right, 2 for centre; values 3 or larger will default to left-alligned */ function SetTextAllign(allign){} //js_funcs.c:912 /** * Sets the background color for text written with {@link TextOut}. Default is 0. * @param {Integer} bg - Background colour, or -1 for transparent */ function SetTextBgColor(bg){} //js_funcs.c:919 /** * Reads a text file and returns its contents. * Returns null on any failures. * @param {String} filename * @return {Font} */ function LoadFont(filename){} //js_funcs.c:928 /** * Sets the font used by TextOut. * The font is also written to the &quot;currentFont&quot; variable. Overwriting this global directly can cause memory issues with impredictable results including crashes and corruption, plus it will be ignored by {@link TextOut}. * @param {Font} font */ function SetFont(font){} //js_funcs.c:945 /** * Allegro's blit. Blit essentially copies an area of an image into another, including transparent colour values (0 for 8-bit depths, 0xFF00FF magic pink, etc.). * Additionally, blit performs colour depth conversion between bitmaps. * @param {Bitmap} src - Source bitmap * @param {Bitmap} dest - Destination bitmap * @param {Integer} sx - Source X * @param {Integer} sy - Source Y * @param {Integer} dx - Destination X * @param {Integer} dy - Destination Y * @param {Integer} w - Width of area copied * @param {Integer} h - Height of area copied */ function Blit(src, dest, sx, sy, dx, dy, w, h){} //js_funcs.c:1010 /** * Allegro's stretch_blit. Like {@link Blit} but also stretches the source area into the destination area. * @param {Bitmap} src - Source bitmap * @param {Bitmap} dest - Destination bitmap * @param {Integer} sx - Source X * @param {Integer} sy - Source Y * @param {Integer} sw - Source width * @param {Integer} sh - Source height * @param {Integer} dx - Destination X * @param {Integer} dy - Destination Y * @param {Integer} dw - Destination width * @param {Integer} dh - Destination height */ function StretchBlit(src, dest, sx, sy, sw, sh, dx, dy, dw, dh){} //js_funcs.c:1029 /** * Allegro's masked_blit. Like {@link Blit} but ignores transparent pixels. * @param {Bitmap} src - Source bitmap * @param {Bitmap} dest - Destination bitmap * @param {Integer} sx - Source X * @param {Integer} sy - Source Y * @param {Integer} dx - Destination X * @param {Integer} dy - Destination Y * @param {Integer} w - Width of area copied * @param {Integer} h - Height of area copied */ function MaskedBlit(src, dest, sx, sy, dx, dy, w, h){} //js_funcs.c:1046 /** * Allegro's masked_stretch_blit. * @param {Bitmap} src - Source bitmap * @param {Bitmap} dest - Destination bitmap * @param {Integer} sx - Source X * @param {Integer} sy - Source Y * @param {Integer} sw - Source width * @param {Integer} sh - Source height * @param {Integer} dx - Destination X * @param {Integer} dy - Destination Y * @param {Integer} dw - Destination width * @param {Integer} dh - Destination height */ function StretchBlit(src, dest, sx, sy, sw, sh, dx, dy, dw, dh){} //js_funcs.c:1065 /** * A sprite sheet structured type. * @typedef {Object} SpriteSheet * @property {Integer} numberOfFrames * @property {Integer} width - Of one frame, not of the bitmap * @property {Integer} height - Of one frame, not of the bitmap * @property {Bitmap} bitmap - Bitmap containing the sprite's frames * @property {Pointer} ptr - Internal, so don't mess with it */ /** * Creates a sprite sheet object, which is used by other sprite functions. * All frames will have equal width and height as passed. Frame 0 will be at the top left corner, frame indices grow from left to right and then from top to bottom. * @param {Bitmap} bitmap - Bitmap containing the sprite's frames * @param {Integer} w - Width of one frame * @param {Integer} h - Height of one frame * @return {Spritesheet} Created sprite sheet */ function CreateSpriteSheet(bitmap, w, h){} //js_funcs.c:1110 /** * Draws a frame from a sprite sheet into the bitmap at the specified position. * @param {Bitmap} bitmap - Bitmap drawed on * @param {SpriteSheet} ss - Spritesheet object * @param {Integer} x - X * @param {Integer} y - Y * @param {Integer} f - Frame index */ function DrawSprite(bitmap, ss, x, y, f){} //js_funcs.c:1163 /** * An extension of DrawSprite. * Uses Allegro's rotate_scaled_sprite et al. Rotation, scaling and flipping are optional transforms. * @param {Bitmap} bitmap - Bitmap drawed on * @param {SpriteSheet} ss - Spritesheet object * @param {Integer} transforms - Binary flags for transforms used (SPRITE_FLIP, SPRITE_ROTATE, SPRITE_SCALE) * @param {Integer} X * @param {Integer} Y * @param {Integer} f - Frame index * @param {Fixed=} angle - 256.0 is a full rotation * @param {Fixed=} scale - 2.0 is double the size * @param {Integer=} flips - Binary flags (FLIP_V, FLIP_H) */ function DrawTransformSprite(bitmap, ss, transforms, x, y, f, angle, scale, flips){} //js_funcs.c:1200 /** * A batch version of DrawSprite. Allows larger numbers of sprites without performance hits. * There is no DrawTransformSpriteBatch as this function does both. * @See DrawTransformSprite * @param {Bitmap} bitmap - Bitmap drawed on * @param {SpriteSheet} ss - Spritesheet object * @param {Integer} transforms - Binary flags for transforms used (SPRITE_FLIP, SPRITE_ROTATE, SPRITE_SCALE) * @param {Int32Array} buf - Buffer with several sprites, like the following (values with * may be omitted according to transform flags): [X, Y, frame index, angle*, scale*, flip*, ...] */ function DrawSpriteBatch(bitmap, ss, transforms, buf){} //js_funcs.c:1243 /** * Allegro's fixed. * Allegro uses fixed point arithmetics for certain operations, including drawing rotated or scaled images. * &gt; Fixed point numbers can be assigned, compared, added, subtracted, negated and shifted (for multiplying or dividing by powers of two) using the normal integer operators, but you should take care to use the appropriate conversion routines when mixing fixed point with integer or floating point values. * @see IntToFix * @see FloatToFix * @see FixToInt * @see FixToFloat * @typedef {Integer} Fixed */ /** * Allegro's itofix. * @param {Integer} v - Number to be converted (between 32767 and -32767) * @return {Fixed} */ function IntToFix(v){} //js_funcs.c:1324 /** * Allegro's ftofix. * @param {Number} v - Number to be converted (between 32767 and -32767) * @return {Fixed} */ function FloatToFix(v){} //js_funcs.c:1333 /** * Allegro's fixtoi. * @param {Fixed} v * @return {Integer} Regular number */ function FixToInt(v){} //js_funcs.c:1342 /** * Allegro's fixtof. * @param {Fixed} v * @return {Number} Regular number */ function FixToFloat(v){} //js_funcs.c:1351 /** * Allegro's load_sample. Loads a digital sample from a sound file. * Returns null on any failure. * @param {String} filename * @return {Sample} Digital sample object, contains bits, freq, len, and stereo integer valued properties */ function LoadSample(filename){} //js_funcs.c:1370 /** * Allegro's save_sample. Saves a digital sample to a sound file. * @param {String} filename * @param {Sample} sample - Sample */ function SaveSample(filename, sample){} //js_funcs.c:1396 /** * Allegro's create_sample. Creates a silent digital sample with specified parameters, useful for procedural sfx. * Returns null on any failure. * @param {Integer} bits - 8 or 16 * @param {Integer} stereo - 0 for mono, non-zero for stereo * @param {Integer} freq - Frequency in hertz * @param {Integer} len - Number of samples * @return {Sample} A silent sample */ function CreateSample(bits, stereo, freq, len){} //js_funcs.c:1408 /** * Allegro's play_sample. To play audio samples. * A word of warning: if the given sample goes out of scope while it is playing, the finalizer will stop it before destroying it. So keep all playing samples somewhere. * @param {Sample} sample - Sample * @param {Integer} vol - Volume, 0 to 255 * @param {Integer} pan - Pan, 0 left to 255 right * @param {Integer} freq - Relative frequency, where 1000 is the recorded frequency, and 2000 plays at double speed * @param {Boolean} loop - If non-zero, will repeat the sample until StopSample is called * @return {Integer} Returns the voice number that was allocated for the sample or negative if no voices were available. */ function PlaySample(sample, vol, pan, freq, loop){} //js_funcs.c:1439 /** * Allegro's stop_sample. * &quot;Stop a sample from playing, which is required if you have set a sample going in looped mode. If there are several copies of the sample playing, it will stop them all.&quot; * @param {Sample} sample */ function StopSample(sample){} //js_funcs.c:1462 /** * Allegro's adjust_sample. * Alter a playing sample's parameters. Useful for e.g. engine sounds. * @param {Sample} sample - Sample * @param {Integer} vol - Volume, 0 to 255 * @param {Integer} pan - Pan, 0 left to 255 right * @param {Integer} freq - Relative frequency, where 1000 is the recorded frequency, and 2000 plays at double speed * @param {Boolean} loop - If non-zero, will repeat the sample until StopSample is called */ function AdjustSample(sample){sample, vol, pan, freq, loop} //js_funcs.c:1483 /** * Used to get the raw audio data. * Modifying the returned buffer will have no value unless you call SetSampleData, as it is a copy rather than a pointer of the internal buffer. * @param {Sample} sample - Sample to get the raw data from * @return {Uint16Array} Array of samples in unsigned 16-bit format */ function GetSampleData(sample){} //js_funcs.c:1505 /** * Used to put raw audio data into an usable sample, for procedural audio or otherwise. * Copies the passed samples into the internal buffer. * @param {Sample} sample - Sample whose data to be set * @param {Uint16Array} buf - Array of samples in unsigned 16-bit format */ function SetSampleData(sample, buf){} //js_funcs.c:1530 /** * Provides access to sample priority and looping points. * @param {Sample} sample - Sample whose params to be set * @param {Object} params * @param {Integer=} params.priority - &quot;The priority is a value from 0 to 255 (by default set to 128) and controls how hardware voices on the sound card are allocated if you attempt to play more than the driver can handle. This may be used to ensure that the less important sounds are cut off while the important ones are preserved.&quot; * @param {Integer=} params.loop_start - &quot;The variables loop_start and loop_end specify the loop position in sample units, and are set by default to the start and end of the sample.&quot; * @param {Integer=} params.loop_end - */ function SetSampleParams(sample, params){} //js_funcs.c:1558 /** * Provides access to sample priority and looping points. * @See SetSampleData * @param {Sample} sample - Sample to get params from * @return {Object} Object as described in {@link SetSampleData} */ function GetSampleParams(sample){} //js_funcs.c:1583 /** * Allegro's load_midi. Loads .mid files. * @param {String} filename * @return {MIDI} Object as described in {@link SetSampleData} */ function LoadMIDI(filename){} //js_funcs.c:1613 /** * Allegro's get_midi_length. Will also stop any currently playing MIDI. {@link GetMIDIPos|midi_pos} and {@link GetMIDITime|midi_time} will also be set. * @param {MIDI} midi * @return {Integer} Length of the song in seconds. */ function GetMIDILength(midi){} //js_funcs.c:1621 /** * Allegro's pause_midi. Pauses the MIDI player. See {@link ResumeMIDI}. */ function PauseMIDI(){} //js_funcs.c:1643 /** * Allegro's resume_midi. Pauses the MIDI player. See {@link PauseMIDI}. */ function ResumeMIDI(){} //js_funcs.c:1649 /** * Allegro's stop_midi. Stop the MIDI player. */ function StopMIDI(){} //js_funcs.c:1655 /** * Allegro's midi_seek. Seeks to the given position in the playing song. * @param {Integer} pos - Position in beats (not seconds!) */ function SeekMIDI(pos){} //js_funcs.c:1662 /** * Allegro's play_midi. Starts playing a song. * The given MIDI is copied into the currentMIDI global variable, to avoid finalization. * @param {MIDI} midi * @param {Boolean} loop - If set, continuously loop the song. */ function PlayMIDI(midi, loop){} //js_funcs.c:1675 /** * Allegro's play_looped_midi. Starts playing a song and loops at the specified points. * The given MIDI is copied into the currentMIDI global variable, to avoid finalization. * @param {MIDI} midi * @param {Integer} loop_start - Position in beats (not seconds!) * @param {Integer} loop_end - Position in beats (not seconds!) */ function PlayLoopedMIDI(midi, loop_start, loop_end){} //js_funcs.c:1697 /** * Sets the looping points, the same as {@link PlayLoopedMIDI} * @param {Integer} loop_start - Position in beats (not seconds!) * @param {Integer} loop_end - Position in beats (not seconds!) */ function SetMIDILoop(loop_start, loop_end){} //js_funcs.c:1718 /** * Allegro's midi_pos. Current position in beats of the song being played. * @return {Integer} Position of the song in seconds. */ function GetMIDIPos(){} //js_funcs.c:1732 /** * Allegro's midi_time. Current position in seconds of the song being played. Not available in MS-DOS. * @return {Integer} Position of the song in seconds. */ function GetMIDITime(){} //js_funcs.c:1740 /** * Allegro's midi_out. Direct output of MIDI commands, check some MIDI specs to use. * The first call may need to load MIDI patches, taking some time. * @param {Uint8Array} data - Series of MIDI commands */ function MIDIOut(data){} //js_funcs.c:1749 /** * A tile map drawing routine. Tiles not in the tileset (tile &lt; first or tile &gt; tileset.numberOfFrames) are ignored. * @param {Bitmap} bmp * @param {Object} map * @param {Uint16Array} map.data - Tile IDs stored sequentially from left to right and then top to bottom * @param {Integer} map.width - Number of map columns * @param {Integer} map.height - Number of map rows * @param {SpriteSheet} tileset - Each frame will be mapped into one tile * @param {Integer} first - First tile ID in the tileset * @param {Integer} col - First column in the map view * @param {Integer} row - First row in the map view * @param {Integer} numCols - Number of columns in the map view * @param {Integer} numRows - Number of rows in the map view * @param {Integer} x - Coordinate in bmp * @param {Integer} y - Coordinate in bmp */ function DrawTileLayer(bmp, map, tileset, first, col, row, numCols, numRows, x, y){} //js_funcs.c:1784 /** * Allegro's drawing_mode. Sets the drawing mode affecting only the geometric primitive drawing routines like putpixel, lines, rectangles, circles, polygons, floodfill, etc, not the text output, blitting, sprite, etc. drawing functions. * @param {Integer} mode - 0 for solid (default mode), 1 for blended (transparency, lighting and other effects) */ /** * Sets the color map used by transparency and lighting effects in 8-bit color mode. Allegro's color_map. * Get a color map from {@link CreateTransTable}, {@link CreateLightTable} or {@link CreateColorTable}. * @param {ColorMap} cm */ function SetColorMap(cm){} //js_funcs.c:1882 /** * Allegro's create_light_table. Creates a color map for lighting effects in 8-bit color mode. * &gt; When combining the colors c1 and c2 with this table, c1 is treated as a light level from 0-255. At light level 255 the table will output color c2 unchanged, at light level 0 it will output the r, g, b value you specify to this function, and at intermediate light levels it will output a color somewhere between the two extremes. The r, g, and b values are in the range 0-63. * @param {Palette} pal * @param {Integer} r * @param {Integer} g * @param {Integer} b * @return {ColorMap} */ function CreateLightTable(pal, r, g, b){} //js_funcs.c:1924 /** * Allegro's create_trans_table. Creates a color map for transparency effects in 8-bit color mode. * &gt; When combining the colors c1 and c2 with this table, the result will be a color somewhere between the two. The r, g, and b parameters specify the solidity of each color component, ranging from 0 (totally transparent) to 255 (totally solid). For 50% solidity, pass 128. This function treats source color #0 as a special case, leaving the destination unchanged whenever a zero source pixel is encountered, so that masked sprites will draw correctly. * @param {Palette} pal * @param {Integer} r * @param {Integer} g * @param {Integer} b * @return {ColorMap} */ function CreateTransTable(pal, r, g, b){} //js_funcs.c:1938 /** * Allegro's create_color_table. Creates a color map for customised effects in 8-bit color mode. * @todo Implement this * @param {Palette} pal * @param {Function} blendFunc - A (palette, color_index1, color_index2)-&gt;resulting_rgb_color function * @return {ColorMap} */ function CreateColorTable(blendFunc){} //js_funcs.c:1950 /** * Allegro's BITMAP *. The target of all drawing routines. * @typedef {Object} Bitmap * @property {Integer} w - width * @property {Integer} h - width * @property {Pointer} ptr - Internal, so don't mess with it */ /** * Allegro's FONT *. Used for writing text into the screen and other bitmaps. * @typedef {Object} Font * @property {Pointer} ptr - Internal, so don't mess with it */ /** * Allegro's SAMPLE *. Digital audio samples, most often used for sound effects. * @typedef {Object} Sample * @property {Integer} bits - 8 or 16 * @property {Integer} stereo - 0 mono, otherwise stereo * @property {Integer} freq - in Hz * @property {Integer} len - Number of samples * @property {Pointer} ptr - Internal, so don't mess with it */ /** * Allegro's MIDI *. For playing MIDI music, which is usually small in stored size. * @typedef {Object} MIDI * @property {Pointer} ptr - Internal, so don't mess with it */ /** * Allegro's COLOR_MAP *. Used for transparency and lighting effects in 8-bit color modes. * @typedef {Object} ColorMap * @property {Pointer} ptr - Internal, so don't mess with it */ × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" Tapegro Global KeyReadKeyReadKeyASCIIJoystickCoutQuitArcCircleCircleFillClearToColorEllipseEllipseFillFloodFillHLineLinePutPixelRectRectFillTriangleVLineGetPixelPutPixelBatchCreateBitmapLoadBitmapSaveBitmapDrawBitmapDrawTransformBitmapLoadPaletteLastBitmapPaletteSetPaletteReadFileReadTextFileGetConfigSetConfigTextOutSetTextAllignSetTextBgColorLoadFontSetFontBlitStretchBlitMaskedBlitCreateSpriteSheetDrawSpriteDrawTransformSpriteDrawSpriteBatchIntToFixFloatToFixFixToIntFixToFloatLoadSampleSaveSampleCreateSamplePlaySampleStopSampleAdjustSampleGetSampleDataSetSampleDataSetSampleParamsGetSampleParamsLoadMIDIGetMIDILengthPauseMIDIResumeMIDIStopMIDISeekMIDIPlayMIDIPlayLoopedMIDISetMIDILoopGetMIDIPosGetMIDITimeMIDIOutDrawTileLayerSetColorMapCreateLightTableCreateTransTableCreateColorTable Global Methods Key(scancode) Direct keyboard input through Allegro's key.Only recommended to let the user pick keyboard controls: use &quot;buttons[player]&quot; and &quot;dpad[player]&quot; for game input. Parameters: Name Type Description scancode Integer Source: js_funcs.js, line 7 Returns: Whether the key is pressed (value of key[scancode]) Type Boolean ReadKey() Direct keyboard input through Allegro's keypressed and readkey.Contrary to readkey, doesn't wait for a keypress, always returning immediately.Only recommended to let the user pick keyboard controls: use &quot;buttons[player]&quot; and &quot;dpad[player]&quot; for game input. Source: js_funcs.js, line 14 Returns: 0 if no key is pressed, scancode otherwise Type Integer ReadKeyASCII() Direct keyboard input through Allegro's keypressed and readkey.Contrary to readkey, doesn't wait for a keypress, always returning immediately. Source: js_funcs.js, line 20 Returns: -1 if no key is pressed, ASCII code otherwise (affected normally by shift, ctrl, capslock etc) Type Integer Joystick(id) Direct joystick input (through Allegro's &quot;joy&quot;).Only recommended to let the user pick joystick controls: use &quot;buttons[player]&quot; and &quot;dpad[player]&quot; for game input. Parameters: Name Type Description id Integer Joystick id, from 0 to a max of 16 Source: js_funcs.js, line 27 Returns: A Javascript object tree equivalent to Allegro's JOYSTICK_INFO Type Object Cout() Similar to console.log, a text output function for debugging.Contrary to usual console.log behaviour, file, line and time are not printed.This is a variadic function taking any number of arguments. Source: js_funcs.js, line 33 Quit() Will close the program normally, after completing the frame. Execution does continue after the call. Source: js_funcs.js, line 37 Arc(bitmap, x, y, ang1, ang2, r) Allegro's arc.Draws a circular arc with centre x, y and radius r, in an anticlockwise direction starting from the angle a1 and ending when it reaches a2.These values are specified with 256 equal to a full circle, 64 a right angle, etc. Zero is to the right of the centre point, and larger values rotate anticlockwise from there. Parameters: Name Type Description bitmap Bitmap x Integer y Integer ang1 Fixed ang2 Fixed r Integer Source: js_funcs.js, line 49 Circle(bitmap, x, y, radius, color) Allegro's circle. Parameters: Name Type Description bitmap Bitmap x Integer y Integer radius Integer color Integer Source: js_funcs.js, line 58 CircleFill(bitmap, x, y, radius, color) Allegro's circlefill. Like Circle, but with the insides filled in. Parameters: Name Type Description bitmap Bitmap x Integer y Integer radius Integer color Integer Source: js_funcs.js, line 67 ClearToColor(bitmap, colour) Allegro's clear_to_color. Fills the passed bitmap with the specified colour. Parameters: Name Type Description bitmap Bitmap colour Integer Source: js_funcs.js, line 73 Ellipse(bitmap, x, y, radiusX, radiusY, color) Allegro's ellipse. Parameters: Name Type Description bitmap Bitmap x Integer y Integer radiusX Integer radiusY Integer color Integer Source: js_funcs.js, line 83 EllipseFill(bitmap, x, y, radiusX, radiusY, color) Allegro's circlefill. Like Ellipse, but with the insides filled in. Parameters: Name Type Description bitmap Bitmap x Integer y Integer radiusX Integer radiusY Integer color Integer Source: js_funcs.js, line 93 FloodFill(bitmap, x, y, colour) Allegro's floodfill. Parameters: Name Type Description bitmap Bitmap x Integer y Integer colour Integer Source: js_funcs.js, line 101 HLine(bitmap, x1, y, x2, colour) Allegro's hline. Parameters: Name Type Description bitmap Bitmap x1 Integer y Integer x2 Integer colour Integer Source: js_funcs.js, line 110 Line(bitmap, x1, y1, x2, y2, colour) Allegro's line. Parameters: Name Type Description bitmap Bitmap x1 Integer y1 Integer x2 Integer y2 Integer colour Integer Source: js_funcs.js, line 120 PutPixel(bitmap, x, y, colour) Allegro's putpixel. Parameters: Name Type Description bitmap Bitmap x Integer y Integer colour Integer Source: js_funcs.js, line 128 Rect(bitmap, x1, y1, x2, y2, colour) Allegro's rect. Parameters: Name Type Description bitmap Bitmap x1 Integer y1 Integer x2 Integer y2 Integer colour Integer Source: js_funcs.js, line 138 RectFill(bitmap, x1, y1, x2, y2, colour) Allegro's rectfill. Like Rect, but with the insides filled in. Parameters: Name Type Description bitmap Bitmap x1 Integer y1 Integer x2 Integer y2 Integer colour Integer Source: js_funcs.js, line 148 Triangle(bitmap, x1, y1, x2, y2, x3, y3, colour) Allegro's triangle. Draws a filled triangle (unlike what you'd expect from other primitives, there is no TriangleFill). Parameters: Name Type Description bitmap Bitmap x1 Integer y1 Integer x2 Integer y2 Integer x3 Integer y3 Integer colour Integer Source: js_funcs.js, line 160 VLine(bitmap, x, y1, y2, colour) Allegro's vline. Parameters: Name Type Description bitmap Bitmap x Integer y1 Integer y2 Integer colour Integer Source: js_funcs.js, line 169 GetPixel(bitmap, x, y) Allegro's getpixel. Parameters: Name Type Description bitmap Bitmap x Integer y Integer Source: js_funcs.js, line 177 Returns: Colour value Type Integer PutPixelBatch(bitmap, rle, buf) Puts a batch of pixels at once into the passed bitmap.There is an option to use RLE, in which case, runs of colours will be written filling horizontal lines, with a single starting position for each run of colour values. Otherwise, there is a position and colour triplet for each pixel. Parameters: Name Type Description bitmap Bitmap rle Boolean Whether RLE is used buf Int32Array A typed array, elements are in a [x, y, n, c1, c2, c3, ... , cn, x, y, n, c1, c2, ...] format if RLE is used or [x1, y1, c1, x2, y2, c2, x3, y3, c3, ...] if not Source: js_funcs.js, line 185 CreateBitmap(width, height) Creates a bitmap object through Allegro's create_bitmap. Parameters: Name Type Description width Integer height Integer Source: js_funcs.js, line 192 Returns: Type Bitmap LoadBitmap(filename) Loads a bitmap through Allegro's load_bitmap.The palette generated by Allegro together with loading the bitmap is discarded.Returns null on failures such as file not found. Parameters: Name Type Description filename String Source: js_funcs.js, line 200 Returns: Type Bitmap SaveBitmap(filename, bitmap) Saves a bitmap through Allegro's save_bitmap.If the program is running on 8bit colour depth, the palette used is the currently set global palette. Parameters: Name Type Description filename String bitmap Bitmap Source: js_funcs.js, line 207 DrawBitmap(bmp, spr, X, Y) Allegro's draw_sprite. Draws the whole bitmap at the specified position.Note that DrawSprite et al. is of different use. Parameters: Name Type Description bmp Bitmap Bitmap drawed on spr Bitmap Bitmap drawed X Integer Y Integer Source: js_funcs.js, line 216 DrawTransformBitmap(bitmap, spr, transforms [, angle] [, scale] [, flip]) Allegro's rotate_scaled_sprite et al. Draws the whole bitmap at the specified position.Rotation, scaling and flipping are optional transforms.Note that DrawTransformSprite is of different use. Parameters: Name Type Argument Description bitmap Bitmap Bitmap drawed on spr Bitmap Bitmap drawed transforms Integer Binary flags for transforms used (SPRITE_FLIP, SPRITE_ROTATE, SPRITE_SCALE) angle Fixed &lt;optional&gt; 256.0 is a full rotation scale Fixed &lt;optional&gt; 2.0 is double the size flip Integer &lt;optional&gt; Binary flags (FLIP_V, FLIP_H) Source: js_funcs.js, line 228 LoadPalette(filename) Loads a palette from an image file using Allegro's load_bitmap.Returns null on failures such as file not found. Parameters: Name Type Description filename String Source: js_funcs.js, line 239 Returns: Type Palette LastBitmapPalette() Returns the palette from the last bitmap loaded. Source: js_funcs.js, line 244 Returns: Type Palette SetPalette(pal) Sets the current screen palette using Allegro's set_palette. For 8-bit colour modes only. Parameters: Name Type Description pal Palette Source: js_funcs.js, line 249 ReadFile(filename) Reads a binary file and returns its contents.Returns null on any failures. Parameters: Name Type Description filename String Source: js_funcs.js, line 256 Returns: Plain DukTape buffer containing the file's contents. Type Buffer ReadTextFile(filename) Reads a text file and returns its contents.Returns null on any failures. Parameters: Name Type Description filename String Source: js_funcs.js, line 263 Returns: String containing the file's contents. Type String GetConfig(configs) Get configuration values using Allegro's get_config_float, get_config_int and get_config_string. Parameters: Name Type Description configs Object Will be modified to contain the values read. Example: Properties Name Type Argument Default Description a_value Number &lt;optional&gt; 5 Reads a floating point value from the root of the config file, with default value 5.0 a_section Object A [section] in the config file Properties Name Type Argument Default Description another_value String &lt;optional&gt; &quot;Test&quot; Reads a string value from a section called &quot;a_section&quot;, with default value &quot;Test&quot; Source: js_funcs.js, line 276 SetConfig(configs) Set configuration values using Allegro's set_config_float, set_config_int and set_config_string. Same deal as GetConfig. Parameters: Name Type Description configs Object Will be written to config file. Example: Properties Name Type Argument Default Description a_value Number &lt;optional&gt; 5 Writes &quot;a_value = 5.0&quot; (in the root of the config file i.e. the top with no section above) a_section Object Writes [a_section] in the config file Properties Name Type Argument Default Description anoter_value String &lt;optional&gt; &quot;Test&quot; Writes &quot;another_value = 'Test'&quot; Source: js_funcs.js, line 284 TextOut(bmp, text, x, y, fg) Allegro's textout.Unlike the actual textout, the font used is implicit through SetFont. Use SetTextBgColor to select the background color used with this function. Parameters: Name Type Description bmp Bitmap Bitmap written on text String Text x Integer X y Integer Y fg Integer Text colour, or if -1 and a colour font is in use, text is drawn with colours from the original font image for multicoloured text Source: js_funcs.js, line 294 SetTextAllign(allign) Selects between left-alligned, right-alligned and centred text (Allegro's textout, textout_right and textout_centre). Parameters: Name Type Description allign Integer 0 for left, 1 for right, 2 for centre; values 3 or larger will default to left-alligned Source: js_funcs.js, line 299 SetTextBgColor(bg) Sets the background color for text written with TextOut. Default is 0. Parameters: Name Type Description bg Integer Background colour, or -1 for transparent Source: js_funcs.js, line 304 LoadFont(filename) Reads a text file and returns its contents.Returns null on any failures. Parameters: Name Type Description filename String Source: js_funcs.js, line 311 Returns: Type Font SetFont(font) Sets the font used by TextOut.The font is also written to the &quot;currentFont&quot; variable. Overwriting this global directly can cause memory issues with impredictable results including crashes and corruption, plus it will be ignored by TextOut. Parameters: Name Type Description font Font Source: js_funcs.js, line 317 Blit(src, dest, sx, sy, dx, dy, w, h) Allegro's blit. Blit essentially copies an area of an image into another, including transparent colour values (0 for 8-bit depths, 0xFF00FF magic pink, etc.).Additionally, blit performs colour depth conversion between bitmaps. Parameters: Name Type Description src Bitmap Source bitmap dest Bitmap Destination bitmap sx Integer Source X sy Integer Source Y dx Integer Destination X dy Integer Destination Y w Integer Width of area copied h Integer Height of area copied Source: js_funcs.js, line 330 StretchBlit(src, dest, sx, sy, sw, sh, dx, dy, dw, dh) Allegro's stretch_blit. Like Blit but also stretches the source area into the destination area. Parameters: Name Type Description src Bitmap Source bitmap dest Bitmap Destination bitmap sx Integer Source X sy Integer Source Y sw Integer Source width sh Integer Source height dx Integer Destination X dy Integer Destination Y dw Integer Destination width dh Integer Destination height Source: js_funcs.js, line 344 MaskedBlit(src, dest, sx, sy, dx, dy, w, h) Allegro's masked_blit. Like Blit but ignores transparent pixels. Parameters: Name Type Description src Bitmap Source bitmap dest Bitmap Destination bitmap sx Integer Source X sy Integer Source Y dx Integer Destination X dy Integer Destination Y w Integer Width of area copied h Integer Height of area copied Source: js_funcs.js, line 356 StretchBlit(src, dest, sx, sy, sw, sh, dx, dy, dw, dh) Allegro's masked_stretch_blit. Parameters: Name Type Description src Bitmap Source bitmap dest Bitmap Destination bitmap sx Integer Source X sy Integer Source Y sw Integer Source width sh Integer Source height dx Integer Destination X dy Integer Destination Y dw Integer Destination width dh Integer Destination height Source: js_funcs.js, line 370 CreateSpriteSheet(bitmap, w, h) Creates a sprite sheet object, which is used by other sprite functions.All frames will have equal width and height as passed. Frame 0 will be at the top left corner, frame indices grow from left to right and then from top to bottom. Parameters: Name Type Description bitmap Bitmap Bitmap containing the sprite's frames w Integer Width of one frame h Integer Height of one frame Source: js_funcs.js, line 388 Returns: Created sprite sheet Type Spritesheet DrawSprite(bitmap, ss, x, y, f) Draws a frame from a sprite sheet into the bitmap at the specified position. Parameters: Name Type Description bitmap Bitmap Bitmap drawed on ss SpriteSheet Spritesheet object x Integer X y Integer Y f Integer Frame index Source: js_funcs.js, line 397 DrawTransformSprite(bitmap, ss, transforms, X, Y, f [, angle] [, scale] [, flips]) An extension of DrawSprite.Uses Allegro's rotate_scaled_sprite et al. Rotation, scaling and flipping are optional transforms. Parameters: Name Type Argument Description bitmap Bitmap Bitmap drawed on ss SpriteSheet Spritesheet object transforms Integer Binary flags for transforms used (SPRITE_FLIP, SPRITE_ROTATE, SPRITE_SCALE) X Integer Y Integer f Integer Frame index angle Fixed &lt;optional&gt; 256.0 is a full rotation scale Fixed &lt;optional&gt; 2.0 is double the size flips Integer &lt;optional&gt; Binary flags (FLIP_V, FLIP_H) Source: js_funcs.js, line 411 DrawSpriteBatch(bitmap, ss, transforms, buf) A batch version of DrawSprite. Allows larger numbers of sprites without performance hits.There is no DrawTransformSpriteBatch as this function does both. Parameters: Name Type Description bitmap Bitmap Bitmap drawed on ss SpriteSheet Spritesheet object transforms Integer Binary flags for transforms used (SPRITE_FLIP, SPRITE_ROTATE, SPRITE_SCALE) buf Int32Array Buffer with several sprites, like the following (values with may be omitted according to transform flags): [X, Y, frame index, angle, scale, flip, ...] Source: js_funcs.js, line 421 See: DrawTransformSprite IntToFix(v) Allegro's itofix. Parameters: Name Type Description v Integer Number to be converted (between 32767 and -32767) Source: js_funcs.js, line 437 Returns: Type Fixed FloatToFix(v) Allegro's ftofix. Parameters: Name Type Description v Number Number to be converted (between 32767 and -32767) Source: js_funcs.js, line 443 Returns: Type Fixed FixToInt(v) Allegro's fixtoi. Parameters: Name Type Description v Fixed Source: js_funcs.js, line 449 Returns: Regular number Type Integer FixToFloat(v) Allegro's fixtof. Parameters: Name Type Description v Fixed Source: js_funcs.js, line 455 Returns: Regular number Type Number LoadSample(filename) Allegro's load_sample. Loads a digital sample from a sound file.Returns null on any failure. Parameters: Name Type Description filename String Source: js_funcs.js, line 462 Returns: Digital sample object, contains bits, freq, len, and stereo integer valued properties Type Sample SaveSample(filename, sample) Allegro's save_sample. Saves a digital sample to a sound file. Parameters: Name Type Description filename String sample Sample Sample Source: js_funcs.js, line 468 CreateSample(bits, stereo, freq, len) Allegro's create_sample. Creates a silent digital sample with specified parameters, useful for procedural sfx.Returns null on any failure. Parameters: Name Type Description bits Integer 8 or 16 stereo Integer 0 for mono, non-zero for stereo freq Integer Frequency in hertz len Integer Number of samples Source: js_funcs.js, line 478 Returns: A silent sample Type Sample PlaySample(sample, vol, pan, freq, loop) Allegro's play_sample. To play audio samples.A word of warning: if the given sample goes out of scope while it is playing, the finalizer will stop it before destroying it. So keep all playing samples somewhere. Parameters: Name Type Description sample Sample Sample vol Integer Volume, 0 to 255 pan Integer Pan, 0 left to 255 right freq Integer Relative frequency, where 1000 is the recorded frequency, and 2000 plays at double speed loop Boolean If non-zero, will repeat the sample until StopSample is called Source: js_funcs.js, line 489 Returns: Returns the voice number that was allocated for the sample or negative if no voices were available. Type Integer StopSample(sample) Allegro's stop_sample.&quot;Stop a sample from playing, which is required if you have set a sample going in looped mode. If there are several copies of the sample playing, it will stop them all.&quot; Parameters: Name Type Description sample Sample Source: js_funcs.js, line 495 AdjustSample(sample, vol, pan, freq, loop) Allegro's adjust_sample.Alter a playing sample's parameters. Useful for e.g. engine sounds. Parameters: Name Type Description sample Sample Sample vol Integer Volume, 0 to 255 pan Integer Pan, 0 left to 255 right freq Integer Relative frequency, where 1000 is the recorded frequency, and 2000 plays at double speed loop Boolean If non-zero, will repeat the sample until StopSample is called Source: js_funcs.js, line 505 GetSampleData(sample) Used to get the raw audio data.Modifying the returned buffer will have no value unless you call SetSampleData, as it is a copy rather than a pointer of the internal buffer. Parameters: Name Type Description sample Sample Sample to get the raw data from Source: js_funcs.js, line 512 Returns: Array of samples in unsigned 16-bit format Type Uint16Array SetSampleData(sample, buf) Used to put raw audio data into an usable sample, for procedural audio or otherwise.Copies the passed samples into the internal buffer. Parameters: Name Type Description sample Sample Sample whose data to be set buf Uint16Array Array of samples in unsigned 16-bit format Source: js_funcs.js, line 519 SetSampleParams(sample, params) Provides access to sample priority and looping points. Parameters: Name Type Description sample Sample Sample whose params to be set params Object Properties Name Type Argument Description priority Integer &lt;optional&gt; &quot;The priority is a value from 0 to 255 (by default set to 128) and controls how hardware voices on the sound card are allocated if you attempt to play more than the driver can handle. This may be used to ensure that the less important sounds are cut off while the important ones are preserved.&quot; loop_start Integer &lt;optional&gt; &quot;The variables loop_start and loop_end specify the loop position in sample units, and are set by default to the start and end of the sample.&quot; loop_end Integer &lt;optional&gt; - Source: js_funcs.js, line 528 GetSampleParams(sample) Provides access to sample priority and looping points. Parameters: Name Type Description sample Sample Sample to get params from Source: js_funcs.js, line 535 See: SetSampleData Returns: Object as described in SetSampleData Type Object LoadMIDI(filename) Allegro's load_midi. Loads .mid files. Parameters: Name Type Description filename String Source: js_funcs.js, line 541 Returns: Object as described in SetSampleData Type MIDI GetMIDILength(midi) Allegro's get_midi_length. Will also stop any currently playing MIDI. midi_pos and midi_time will also be set. Parameters: Name Type Description midi MIDI Source: js_funcs.js, line 547 Returns: Length of the song in seconds. Type Integer PauseMIDI() Allegro's pause_midi. Pauses the MIDI player. See ResumeMIDI. Source: js_funcs.js, line 551 ResumeMIDI() Allegro's resume_midi. Pauses the MIDI player. See PauseMIDI. Source: js_funcs.js, line 555 StopMIDI() Allegro's stop_midi. Stop the MIDI player. Source: js_funcs.js, line 559 SeekMIDI(pos) Allegro's midi_seek. Seeks to the given position in the playing song. Parameters: Name Type Description pos Integer Position in beats (not seconds!) Source: js_funcs.js, line 564 PlayMIDI(midi, loop) Allegro's play_midi. Starts playing a song.The given MIDI is copied into the currentMIDI global variable, to avoid finalization. Parameters: Name Type Description midi MIDI loop Boolean If set, continuously loop the song. Source: js_funcs.js, line 571 PlayLoopedMIDI(midi, loop_start, loop_end) Allegro's play_looped_midi. Starts playing a song and loops at the specified points.The given MIDI is copied into the currentMIDI global variable, to avoid finalization. Parameters: Name Type Description midi MIDI loop_start Integer Position in beats (not seconds!) loop_end Integer Position in beats (not seconds!) Source: js_funcs.js, line 579 SetMIDILoop(loop_start, loop_end) Sets the looping points, the same as PlayLoopedMIDI Parameters: Name Type Description loop_start Integer Position in beats (not seconds!) loop_end Integer Position in beats (not seconds!) Source: js_funcs.js, line 585 GetMIDIPos() Allegro's midi_pos. Current position in beats of the song being played. Source: js_funcs.js, line 590 Returns: Position of the song in seconds. Type Integer GetMIDITime() Allegro's midi_time. Current position in seconds of the song being played. Not available in MS-DOS. Source: js_funcs.js, line 595 Returns: Position of the song in seconds. Type Integer MIDIOut(data) Allegro's midi_out. Direct output of MIDI commands, check some MIDI specs to use.The first call may need to load MIDI patches, taking some time. Parameters: Name Type Description data Uint8Array Series of MIDI commands Source: js_funcs.js, line 601 DrawTileLayer(bmp, map, tileset, first, col, row, numCols, numRows, x, y) A tile map drawing routine. Tiles not in the tileset (tile &lt; first or tile &gt; tileset.numberOfFrames) are ignored. Parameters: Name Type Description bmp Bitmap map Object Properties Name Type Description data Uint16Array Tile IDs stored sequentially from left to right and then top to bottom width Integer Number of map columns height Integer Number of map rows tileset SpriteSheet Each frame will be mapped into one tile first Integer First tile ID in the tileset col Integer First column in the map view row Integer First row in the map view numCols Integer Number of columns in the map view numRows Integer Number of rows in the map view x Integer Coordinate in bmp y Integer Coordinate in bmp Source: js_funcs.js, line 618 SetColorMap(cm) Sets the color map used by transparency and lighting effects in 8-bit color mode. Allegro's color_map.Get a color map from CreateTransTable, CreateLightTable or CreateColorTable. Parameters: Name Type Description cm ColorMap Source: js_funcs.js, line 628 CreateLightTable(pal, r, g, b) Allegro's create_light_table. Creates a color map for lighting effects in 8-bit color mode. When combining the colors c1 and c2 with this table, c1 is treated as a light level from 0-255. At light level 255 the table will output color c2 unchanged, at light level 0 it will output the r, g, b value you specify to this function, and at intermediate light levels it will output a color somewhere between the two extremes. The r, g, and b values are in the range 0-63. Parameters: Name Type Description pal Palette r Integer g Integer b Integer Source: js_funcs.js, line 638 Returns: Type ColorMap CreateTransTable(pal, r, g, b) Allegro's create_trans_table. Creates a color map for transparency effects in 8-bit color mode. When combining the colors c1 and c2 with this table, the result will be a color somewhere between the two. The r, g, and b parameters specify the solidity of each color component, ranging from 0 (totally transparent) to 255 (totally solid). For 50% solidity, pass 128. This function treats source color #0 as a special case, leaving the destination unchanged whenever a zero source pixel is encountered, so that masked sprites will draw correctly. Parameters: Name Type Description pal Palette r Integer g Integer b Integer Source: js_funcs.js, line 648 Returns: Type ColorMap CreateColorTable(pal, blendFunc) Allegro's create_color_table. Creates a color map for customised effects in 8-bit color mode. Parameters: Name Type Description pal Palette blendFunc function A (palette, color_index1, color_index2)-&gt;resulting_rgb_color function Source: js_funcs.js, line 656 To Do: Implement this Returns: Type ColorMap Type Definitions Bitmap Allegro's BITMAP *. The target of all drawing routines. Type: Object Properties: Name Type Description w Integer width h Integer width ptr Pointer Internal, so don't mess with it Source: js_funcs.js, line 657 Font Allegro's FONT *. Used for writing text into the screen and other bitmaps. Type: Object Properties: Name Type Description ptr Pointer Internal, so don't mess with it Source: js_funcs.js, line 664 Sample Allegro's SAMPLE *. Digital audio samples, most often used for sound effects. Type: Object Properties: Name Type Description bits Integer 8 or 16 stereo Integer 0 mono, otherwise stereo freq Integer in Hz len Integer Number of samples ptr Pointer Internal, so don't mess with it Source: js_funcs.js, line 669 MIDI Allegro's MIDI *. For playing MIDI music, which is usually small in stored size. Type: Object Properties: Name Type Description ptr Pointer Internal, so don't mess with it Source: js_funcs.js, line 678 ColorMap Allegro's COLOR_MAP *. Used for transparency and lighting effects in 8-bit color modes. Type: Object Properties: Name Type Description ptr Pointer Internal, so don't mess with it Source: js_funcs.js, line 683 Palette Allegro's PALETTE. Just a plain DukTape buffer. Note that while we'd expect 256 3 byte groups for RGB, each entry has a 4th padding byte, so this is actually 1024 bytes long. Type: Buffer Source: js_funcs.js, line 229 SpriteSheet A sprite sheet structured type. Type: Object Properties: Name Type Description numberOfFrames Integer width Integer Of one frame, not of the bitmap height Integer Of one frame, not of the bitmap bitmap Bitmap Bitmap containing the sprite's frames ptr Pointer Internal, so don't mess with it Source: js_funcs.js, line 371 Fixed Allegro's fixed.Allegro uses fixed point arithmetics for certain operations, including drawing rotated or scaled images. Fixed point numbers can be assigned, compared, added, subtracted, negated and shifted (for multiplying or dividing by powers of two) using the normal integer operators, but you should take care to use the appropriate conversion routines when mixing fixed point with integer or floating point values. Type: Integer Source: js_funcs.js, line 422 See: IntToFix FloatToFix FixToInt FixToFloat × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Tapegro Global KeyReadKeyReadKeyASCIIJoystickCoutQuitArcCircleCircleFillClearToColorEllipseEllipseFillFloodFillHLineLinePutPixelRectRectFillTriangleVLineGetPixelPutPixelBatchCreateBitmapLoadBitmapSaveBitmapDrawBitmapDrawTransformBitmapLoadPaletteLastBitmapPaletteSetPaletteReadFileReadTextFileGetConfigSetConfigTextOutSetTextAllignSetTextBgColorLoadFontSetFontBlitStretchBlitMaskedBlitCreateSpriteSheetDrawSpriteDrawTransformSpriteDrawSpriteBatchIntToFixFloatToFixFixToIntFixToFloatLoadSampleSaveSampleCreateSamplePlaySampleStopSampleAdjustSampleGetSampleDataSetSampleDataSetSampleParamsGetSampleParamsLoadMIDIGetMIDILengthPauseMIDIResumeMIDIStopMIDISeekMIDIPlayMIDIPlayLoopedMIDISetMIDILoopGetMIDIPosGetMIDITimeMIDIOutDrawTileLayerSetColorMapCreateLightTableCreateTransTableCreateColorTable TapegroTapegro, Legrotape, Dukegro, Groduk, etc. is a Allegro + Duktape framework that can be used to create games in Javascript. It is a midway point between Love2D and something like PICO8, perhaps. × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
